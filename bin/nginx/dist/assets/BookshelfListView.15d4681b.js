import{_ as k,r as f,o as i,c as l,g as d,d as x,j as g,n as C,a as e,F as h,p as w,f as y,q as v,m as $,t as u,e as P}from"./index.0ad1aa9b.js";/* empty css                                                                     */const B={};function L(_,a){const s=f("font-awesome-icon");return i(),l("div",{class:"m-5 create-button",onClick:a[0]||(a[0]=c=>_.$router.push({name:"bookshelf-create"}))},[d(s,{class:"fa-4x",icon:["fas","book"]})])}var N=k(B,[["render",L],["__scopeId","data-v-70e73564"]]);const V={class:"row"},D=e("h1",null,"\u041C\u043E\u0438 \u0440\u0435\u0446\u0435\u043D\u0437\u0438\u0438",-1),F=["onClick"],I=["src"],S={class:"card-body"},j={class:"card-title"},z={class:"card-subtitle mb-2 text-muted"},E={class:"d-flex justify-content-between"},T={key:0},U=e("div",{class:"text-center",colspan:"6"},[e("div",{class:"spinner-border",style:{width:"1.3rem",height:"1.3rem"},role:"status"},[e("span",{class:"visually-hidden"},"Loading...")])],-1),q=[U],J={class:"btn-group"},G=x({__name:"BookshelfListView",setup(_){const a=g(!1),s={page:1,limit:8,nextPage:null,previousPage:null},c=g();let b=JSON.parse(localStorage.getItem("thisUser")).userdata.id;function p(n){n?s.page+=1:s.page-=1,window.scrollTo(0,0),m(s.limit,s.page)}function m(n,o){const r=`bookshelf/books/?user_created=${b}&page_size=${n}&page_num=${o}`;a.value=!0,$.get(r).then(t=>{c.value=t.data.results,s.nextPage=t.data.next,s.previousPage=t.data.previous,a.value=!1}).catch(t=>{a.value=!1,alert(t)})}return C(()=>{m(s.limit,s.page)}),(n,o)=>{const r=f("font-awesome-icon");return i(),l(h,null,[e("div",V,[D,(i(!0),l(h,null,w(c.value,t=>(i(),l("div",{key:t.id,class:"col-sm-6 col-md-3"},[e("div",{class:"card",onClick:M=>n.$router.push({name:"bookshelf-detail",params:{id:t.id}})},[e("img",{src:t.photo,class:"card-img-top",style:{height:"380px"},alt:"..."},null,8,I),e("div",S,[e("h5",j,u(t.title),1),e("h6",z,[e("div",E,[e("div",null,[d(r,{icon:["fas","star"]}),P(u(t.rating),1)]),e("div",null,u(t.author),1)])])])],8,F)]))),128)),a.value?(i(),l("div",T,q)):y("",!0),e("div",J,[e("button",{class:v([{disabled:!s.previousPage},"btn btn-secondary"]),onClick:o[0]||(o[0]=t=>p(0))}," \u041D\u0430\u0437\u0430\u0434 ",2),e("button",{class:v([{disabled:!s.nextPage},"btn btn-primary"]),onClick:o[1]||(o[1]=t=>p(1))},"\u0412\u043F\u0435\u0440\u0435\u0434",2)])]),d(N)],64)}}});export{G as default};
